extends layout

block content
  h1 #{video.title}
  p Uploaded by: #{video.uploader}
  // Embed the video or provide a link
  if video.url
    iframe(src=video.url, frameborder="0", allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture", allowfullscreen)
  else
    p Video URL not provided.

  // Video description
  if video.description
    p #{video.description}

  // Comments section
  if comments && comments.length
    h2 Comments
    each comment in comments
      p #{comment.text} - by #{comment.user.username}
  else
    p No comments yet.

  // Add a comment form
  form(method='POST', action=`/video/${video._id}/comment`)
    textarea(name='comment', required=true)
    input(type='submit', value='Add Comment')
